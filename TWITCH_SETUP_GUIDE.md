# ๐ฎ ุฅุนุฏุงุฏ Twitch OAuth Integration

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทููุฑ ูุธุงู ุชูุงูู ุดุงูู ูุน Twitch ูุณูุญ ูููุฐูุนูู ุจู:
- ๐ ุชุณุฌูู ุงูุฏุฎูู ุงูุขูู ุนุจุฑ Twitch OAuth
- ๐ฎ ุงูุชุญูู ุงููุงูู ุจุงูุฃูุนุงุจ ูู ููุญุฉ ุงูุชุญูู
- ๐ฌ ุงูุชูุงุนู ุงููุจุงุดุฑ ูุน Twitch Chat
- ๐ ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช ูุงูุฅุญุตุงุฆูุงุช

---

## โ ุงูุฎุทูุงุช ุงูููุชููุฉ

### 1๏ธโฃ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ (ุขุฎุฐุฉ ูู ุงูุฅูุดุงุก)
- โ ููู OAuth Authentication (`src/app/api/twitch/auth.ts`)
- โ ุฎุฏูุฉ Twitch Chat (`src/services/twitchChat.ts`)
- โ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (`src/app/twitch/login/page.tsx`)
- โ ููุญุฉ ุงูุชุญูู (`src/app/twitch/dashboard/page.tsx`)
- โ ุงูุฒุฑ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

### 2๏ธโฃ ุงููููุงุช ุงููุทููุจุฉ
```
src/
โโโ app/
โ   โโโ api/twitch/
โ   โ   โโโ auth.ts โ (OAuth endpoints)
โ   โโโ twitch/
โ   โ   โโโ login/page.tsx โ (Login page)
โ   โ   โโโ dashboard/page.tsx โ (Streamer dashboard)
โ   โโโ page.tsx โ (Updated homepage)
โโโ services/
    โโโ twitchChat.ts โ (Chat service)

.env.local.example โ (Template file)
```

---

## ๐ง ุงูุฅุนุฏุงุฏ (ุฎุทูุงุช ูุญุฏูุฏุฉ ูุชุจููุฉ)

### ุงูุฎุทูุฉ 1: ุงูุญุตูู ุนูู ุจูุงูุงุช Twitch

1. ุงูุชูู ุฅูู [Twitch Developer Console](https://dev.twitch.tv/console/apps)
2. ุชุณุฌูู ุฏุฎูู ุจุญุณุงุจู ุนูู Twitch
3. ุงุถุบุท ุนูู "Create Application"
4. ููุก ุงูุจูุงูุงุช:
   - **Name**: ููุงุฒูุฑ ุฑูุฒ
   - **OAuth Redirect URLs**: `http://localhost:3000/api/twitch/auth?action=callback`
   - **Category**: Application Integration
5. ุงุถุบุท "Create"
6. ุณุชุฌุฏ `Client ID` ู `Client Secret`

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก ููู .env.local

ุงูุณุฎ `.env.local.example` ุฅูู `.env.local`:

```bash
# ูููุฏูุฒ PowerShell
Copy-Item .env.local.example .env.local

# ุฃู ูุฏููุง: ุงูุณุฎ ุงูููู ูุงุณูู .env.local
```

### ุงูุฎุทูุฉ 3: ููุก ุจูุงูุงุช ุงููุชุบูุฑุงุช

ุงูุชุญ `.env.local` ูุฃุถู ุจูุงูุงุช Twitch:

```env
TWITCH_CLIENT_ID=your_client_id_from_console
TWITCH_CLIENT_SECRET=your_client_secret_from_console
TWITCH_REDIRECT_URI=http://localhost:3000/api/twitch/auth?action=callback
NODE_ENV=development
```

**โ๏ธ ุชุญุฐูุฑ ุฃููู:**
- ูุง ุชุดุงุฑู `TWITCH_CLIENT_SECRET` ูุน ุฃุญุฏ
- ุฃุถู `.env.local` ุฅูู `.gitignore`

### ุงูุฎุทูุฉ 4: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู

```powershell
# ุฅุฐุง ูุงู ุงูุฎุงุฏู ูุนููุ ุฃูููู ุจู Ctrl+C
# ุซู ุฃุนุฏู:
npm run dev
```

---

## ๐ฏ ุงุณุชุฎุฏุงู ุงููุธุงู

### ููุงุนุจูู ุงูุนุงุฏููู:
1. ุงุฐูุจ ุฅูู `http://localhost:3000`
2. ุงุฎุชุฑ ุงููุนุจุฉ ุงูููุถูุฉ
3. ุงุจุฏุฃ ุงููุนุจ

### ูููุฐูุนูู (Streamers):

#### ุชุณุฌูู ุงูุฏุฎูู:
1. ุงุฐูุจ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
2. ุงุถุบุท ุงูุฒุฑ "ุฏุฎูู Twitch" (ุงูุฃุฒุฑู ูู ุงูุฃุนูู)
3. ุณูุชู ุชูุฌููู ุฅูู Twitch ูุชุณุฌูู ุงูุฏุฎูู
4. ุจุนุฏ ุงูููุงููุฉุ ุณุชูุชูู ูู ููุญุฉ ุงูุชุญูู

#### ููุญุฉ ุงูุชุญูู (`/twitch/dashboard`):
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ค ูุนูููุงุช ุงููุฐูุน                  โ
โ  - ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ                   โ
โ  - ุงุณู ุงููุณุชุฎุฏู                     โ
โ  - ุจุฑูุฏ ุงูุงุชุตุงู                     โ
โ  [ุชุณุฌูู ุงูุฎุฑูุฌ]                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ฎ ุงูุชุญูู ุจุงููุนุจุฉ                 โ
โ  ุงุฎุชุฑ ุงููุนุจุฉ:                       โ
โ  โผ ุฌููุฉ ุฃุณุฆูุฉ                      โ
โ  [โถ๏ธ ุจุฏุก] [โน๏ธ ุฅููุงุก]                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ฌ Twitch Chat Integration         โ
โ  [๐ข ูุชุตู]                         โ
โ  ุงููููุฒุงุช:                          โ
โ  โ ูุฑุงุกุฉ ุงูุฑุณุงุฆู                   โ
โ  โ ุฅุฑุณุงู ุฅุนูุงูุงุช                   โ
โ  โ ุฅุฏุงุฑุฉ ุงููุงุนุจูู                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ ุงูุฅุญุตุงุฆูุงุช                     โ
โ  โข ุงููุงุนุจูู ุงููุชุตููู: X             โ
โ  โข ุงูุญุงูุฉ: ๐ข ุฌุงุฑู                 โ
โ  โข ููุช ุงูุฌูุณุฉ: ุฌุงุฑูุฉ                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูููุฒุงุช ุงููุชุงุญุฉ ุงูุขู

### 1. OAuth Authentication โ
```typescript
// ุชุณุฌูู ุงูุฏุฎูู
GET /api/twitch/auth?action=login

// ูุนุงูุฌุฉ ุงูู callback
GET /api/twitch/auth?action=callback?code=CODE&state=STATE

// ุงูุญุตูู ุนูู ูุนูููุงุช ุงููุณุชุฎุฏู
GET /api/twitch/auth?action=user&session=SESSION_ID

// ุชุณุฌูู ุงูุฎุฑูุฌ
GET /api/twitch/auth?action=logout&session=SESSION_ID
```

### 2. ููุญุฉ ุงูุชุญูู โ
- ุนุฑุถ ูุนูููุงุช ุงููุฐูุน
- ุงุฎุชูุงุฑ ุงููุนุจุฉ
- ุจุฏุก/ุฅููุงู ุงููุนุจุฉ
- ุฅุญุตุงุฆูุงุช ุงูุฌูุณุฉ

### 3. ุฎุฏูุฉ Chat (ุฌุงูุฒุฉ ููุชุทููุฑ) ๐ก
- ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ููุฌูุฏุฉ
- ุชุญุชุงุฌ ุฅูู ุชุซุจูุช `tmi.js` ููุงุชุตุงู ุงููุนูู

---

## ๐ฆ ุงููุชุทูุจุงุช ุงููุณุชูุจููุฉ (ูู ุชูุถู ุจุนุฏ)

### ุงุฎุชูุงุฑู - ูู Chat Integration ุงูุญูููู:
```bash
npm install tmi.js
```

**ุฃู ุงุณุชุฎุฏุงู ุฎุฏูุฉ Twitch ุงูุฃุตููุฉ:**
```bash
npm install twitch twitch-api twitch-auth
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ OAuth:
```
1. ุงุถุบุท "ุฏุฎูู Twitch"
2. ุณุชูุนุงุฏ ุชูุฌููู ูู Twitch
3. ุงุถุบุท "Authorize" ูุชุฃููุฏ ุงููุตูู
4. ุณุชุนูุฏ ุฅูู ููุญุฉ ุงูุชุญูู
5. ุชุญูู ูู ุธููุฑ ูุนูููุงุชู ุจุดูู ุตุญูุญ
```

### ุงุฎุชุจุงุฑ ููุญุฉ ุงูุชุญูู:
```
1. ูุฌุจ ุฑุคูุฉ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ ูุงูุงุณู
2. ุงูุฃุฒุฑุงุฑ ูุฌุจ ุฃู ุชููู ูุงุจูุฉ ููููุฑ
3. ุงุฎุชูุงุฑ ุงููุนุจุฉ ูุฌุจ ุฃู ูุนูู
4. ุฒุฑ ุชุณุฌูู ุงูุฎุฑูุฌ ูุฌุจ ุฃู ูุนูุฏู ููุฑุฆูุณูุฉ
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "Invalid Client ID"
**ุงูุญู**: ุชุฃูุฏ ูู ูุณุฎ `Client ID` ุจุดูู ุตุญูุญ ูู Twitch Console

### ุงููุดููุฉ: "Redirect URI mismatch"
**ุงูุญู**: ุชุฃูุฏ ุฃู ุงูู URI ูุชุทุงุจู ุชูุงูุงู ูู:
- Twitch Console
- ููู `.env.local`

### ุงููุดููุฉ: "Session not found"
**ุงูุญู**: ูุฏ ุงูุชูุช ูููุฉ ุงูุฌูุณุฉุ ุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู

### ุงููุดููุฉ: ูุง ูุนูู ุจุนุฏ ุฅุถุงูุฉ .env.local
**ุงูุญู**: ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู (Ctrl+C ุซู `npm run dev`)

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ูุฑูุจุงู:
- [ ] ุชุซุจูุช `tmi.js` ูุงูุฑุจุท ุจู Twitch Chat
- [ ] ุนุฑุถ ุฑุณุงุฆู ุงูุดุงุช ูู ููุญุฉ ุงูุชุญูู
- [ ] ุฅุฑุณุงู ุฑุณุงุฆู ููุดุงุช ูู ุงููุนุจุฉ
- [ ] ูุธุงู ุงูุฃูุงูุฑ (Commands) ูู ุงูุดุงุช
- [ ] ุชุชุจุน ุฅุญุตุงุฆูุงุช ุงููุงุนุจูู

### ูุณุชูุจูุงู:
- [ ] ูุงุนุฏุฉ ุจูุงูุงุช ููุฌูุณุงุช (ุจุฏูุงู ูู ุงูุฐุงูุฑุฉ)
- [ ] ูุธุงู Subscriptions/Bits
- [ ] Alerts ููุฌูููุฑ
- [ ] ูุดุงุฑูุฉ ุงูุดุงุดุฉ ุงููุจุงุดุฑุฉ (OBS Integration)

---

## ๐ ุงููุฑุงุฌุน

- [Twitch OAuth Documentation](https://dev.twitch.tv/docs/authentication/oauth-2-0)
- [Twitch Helix API](https://dev.twitch.tv/docs/api/reference)
- [tmi.js Documentation](https://docs.tmijs.org/)
- [Next.js API Routes](https://nextjs.org/docs/api-routes/introduction)

---

## ๐ก ูุตุงุฆุญ ุงูุฃูุงู

1. **ูุง ุชุดุงุฑู ุงูุณุฑ**: ูุง ุชุถุน `TWITCH_CLIENT_SECRET` ูู ุฃููุงุฏ GitHub
2. **ุงูุชุดููุฑ**: ุจุฏู ุงูุฐุงูุฑุฉ ุจู database ูุดูุฑ ููุฌูุณุงุช
3. **Rate Limiting**: ุฃุถู ุญุฏ ุฃูุตู ููุทูุจุงุช
4. **HTTPS**: ุงุณุชุฎุฏู HTTPS ูู ุงูุฅูุชุงุฌ
5. **Token Expiry**: ุฃุถู ูุนุงูุฌุฉ ูุงูุชูุงุก ุตูุงุญูุฉ ุงูู Token

---

**ุชู ุงูุฅุนุฏุงุฏ ุงูุฃุณุงุณู! โ**
ุงูุขู ุฌุงูุฒ ููุงุฎุชุจุงุฑ ูุงูุชุทููุฑ ุงูุฅุถุงูู.
